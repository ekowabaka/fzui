var fzui={};fzui.dropdowns=new function(){function a(a){$(".dropdown, .dropup").each(function(){"click"==a.type&&a.target.parentNode===$(this)[0]||$(this).removeClass("active")})}this.init=function(b){b.find(".dropdown > .dropdown-right, .dropup > .dropup-right").each(function(a,b){var c=$(b).prev();$(b).css({left:c.offset().left+c.outerWidth()-$(b).outerWidth()})});b.find(".dropdown > button, .dropdown > .button, .dropdown > .clickable,.dropup > button, .dropup > .button, .dropup > .clickable").click(function(b){a(b);var c=$(this),d=c.parent(),e=c.next();d.toggleClass("active"),(e.hasClass("dropdown-right")||e.hasClass("dropup-right"))&&e.css({left:c.outerWidth()-e.outerWidth()}),d.hasClass("dropup")&&e.css({top:-e.outerHeight(!0)}),b.stopPropagation()})},$(document).on("click.fzui",a)},fzui.modals=[],$.fn.modal=function(){var a=$("<div></div>");a.addClass("modal-backdrop"),a.attr("id","modal-backdrop-"+fzui.modals.length);var b=($("<div></div>"),$("<div></div>")),c=this.clone(),d=this.outerWidth(!0),e=$(window).width()/2-d/2,f=30*fzui.modals.length+60;return this.remove(),c.addClass("modal-wrapper"),c.prepend(b),c.attr("modal-wrapper-"+fzui.modalCount),c.css({left:e,top:f}),b.addClass("close-button").css({left:d-35}),a.append(c),$("body").append(a),a.fadeIn("fast",function(){c.css("opacity","0.0"),c.show(),c.trigger("fzui.modal.showing"),c.animate({top:"+=20",opacity:1},"fast",function(){fzui.dropdowns.init(c),c.trigger("fzui.modal.shown")})}),fzui.modals.push({modal:c,content:this,backdrop:a}),b.on("click.fzui",fzui.closeModal),c},fzui.closeModal=function(){var a=fzui.modals.pop(),b=a.modal,c=a.content,d=a.backdrop;$(b).animate({top:"-20",opacity:0},"fast",function(){$("body").append(c),c.addClass("modal"),d.fadeOut("fast",function(){b.remove(),d.remove(),fzui.modalCount--})})},fzui.nav=new function(){this.init=function(){$(".nav > li > a").click(function(a){var b=$(a.target).parent();b.parent().find("li").removeClass("active"),b.addClass("active")})}},$(function(){fzui.dropdowns.init($(document))});